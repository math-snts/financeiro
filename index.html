<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Meu Controle Financeiro</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0f172a">
  <style>
    /* Seus estilos originais aqui */
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="row" style="align-items:center;justify-content:space-between">
        <div class="grow">
          <h1>ðŸ’° Meu Controle Financeiro</h1>
          <div class="muted">Controle seus ganhos e despesas por perÃ­odo</div>
        </div>
        <div class="row-inline">
          <select id="periodSelect" class="btn ghost" style="width:auto"></select>
          <label class="switch">
            <span id="themeIcon">ðŸŒž</span>
            <input type="checkbox" id="themeToggle">
            <span class="slider"></span>
            <span></span>
          </label>
        </div>
      </div>
      <nav id="tabs"></nav>
    </div>
  </header>
  <main>
    <!-- DASHBOARD -->
    <section id="tab-dashboard" class="tab card" hidden>
      <h2>ðŸ“Š Dashboard</h2>
      <div class="grid cols-3">
        <div class="card">
          <div class="muted">Saldo previsto</div>
          <div class="kpi" id="kpiSaldo">R$ 0,00</div>
          <div class="note">Entradas</div>
        </div>
        <div class="card">
          <div class="muted">PrÃ³ximo vencimento</div>
          <div class="kpi" id="kpiVencimento">â€”</div>
          <div class="note">Despesas e cartÃµes mais prÃ³ximos</div>
        </div>
        <div class="card">
          <div class="muted">Sobra</div>
          <div class="kpi" id="kpiSobra">R$ 0,00</div>
          <div class="note">Saldo apÃ³s todas as despesas</div>
        </div>
      </div>
    </section>

    <!-- RENDA -->
    <section id="tab-renda" class="tab card" hidden>
      <h2>ðŸ’µ Renda</h2>
      <div class="row">
        <div class="grow"><label>DescriÃ§Ã£o</label><input id="rendaNome" placeholder="SalÃ¡rio, Extra..."></div>
        <div class="grow"><label>Valor</label><input id="rendaValor" type="number" step="0.01"></div>
        <div class="grow"><label>Data</label><input id="rendaData" type="date"></div>
        <div class="row-inline" id="boxRendaRec">
          <label for="rendaRecorrente">Recorrente</label>
          <select id="rendaRecorrente">
            <option value="0">NÃ£o</option>
            <option value="1">1 mÃªs</option>
            <option value="2">2 meses</option>
            <option value="3">3 meses</option>
            <option value="4">4 meses</option>
            <option value="5">5 meses</option>
            <option value="6">6 meses</option>
            <option value="7">7 meses</option>
            <option value="8">8 meses</option>
            <option value="9">9 meses</option>
            <option value="10">10 meses</option>
            <option value="11">11 meses</option>
            <option value="12">12 meses</option>
          </select>
        </div>
        <button id="btnAddRenda" class="btn">Adicionar</button>
      </div>
      <div class="space-top">
        <table id="tblRenda">
          <thead>
            <tr><th>DescriÃ§Ã£o</th><th>Data</th><th class="right">Valor</th><th></th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- DESPESAS -->
    <section id="tab-despesas" class="tab card" hidden>
      <h2>ðŸ“Œ Despesas</h2>
      <div class="row">
        <div class="grow"><label>DescriÃ§Ã£o</label><input id="despNome"></div>
        <div class="grow"><label>Valor</label><input id="despValor" type="number" step="0.01"></div>
        <div class="grow"><label>Data vencimento</label><input id="despData" type="date"></div>
        <div class="grow"><label>Tipo</label>
          <select id="despTipo"></select>
        </div>
        <div class="row-inline">
          <input id="novoTipo" placeholder="Novo tipo" style="width:120px">
          <button id="btnAddTipo" class="btn ghost">+</button>
        </div>
        <div class="row-inline" id="boxDespRec">
          <label for="despRecorrente">Recorrente</label>
          <select id="despRecorrente">
            <option value="0">NÃ£o</option>
            <option value="1">1 mÃªs</option>
            <option value="2">2 meses</option>
            <option value="3">3 meses</option>
            <option value="4">4 meses</option>
            <option value="5">5 meses</option>
            <option value="6">6 meses</option>
            <option value="7">7 meses</option>
            <option value="8">8 meses</option>
            <option value="9">9 meses</option>
            <option value="10">10 meses</option>
            <option value="11">11 meses</option>
            <option value="12">12 meses</option>
          </select>
        </div>
        <button id="btnAddDesp" class="btn">Adicionar</button>
      </div>
      <div class="space-top table-container">
        <table id="tblDesp">
          <thead>
            <tr>
              <th>DescriÃ§Ã£o</th>
              <th>Data</th>
              <th>Tipo</th>
              <th class="right">Valor</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- CARTÃ•ES -->
    <section id="tab-cartoes" class="tab card" hidden>
      <h2>ðŸ’³ CartÃµes</h2>
      <div class="row">
        <div class="grow"><label>CartÃ£o</label><input id="ccNome"></div>
        <div class="grow"><label>Vencimento</label><input id="ccVenc" type="date"></div>
        <div class="grow"><label>Valor usado</label><input id="ccValor" type="number" step="0.01"></div>
        <button id="btnAddCC" class="btn">Adicionar</button>
      </div>
      <div class="space-top">
        <table id="tblCC">
          <thead>
            <tr><th>CartÃ£o</th><th>Vencimento</th><th class="right">Valor usado</th><th></th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Config Dados -->
    <section id="tab-relatorios" class="tab card" hidden>
      <h2>ðŸ“… Config Dados</h2>
      <div id="listaReservas"></div>
      <div class="space-top">
        <button id="btnReset" class="btn danger">Limpar dados</button>
        <div class="note">Dados salvos no seu dispositivo (localStorage)</div>
      </div>
    </section>
  </main>

  <script>
    // JavaScript igual ao da versÃ£o anterior (com renderAll corrigido e sem a funÃ§Ã£o de soma por tipos)
  </script>
  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
      .then(() => console.log("Service Worker registrado"));
  }
  </script>
</body>
</html>
